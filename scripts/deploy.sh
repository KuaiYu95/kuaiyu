#!/bin/bash
# ===========================================
# éƒ¨ç½²è„šæœ¬
# ===========================================

set -e

echo "ğŸš€ å¼€å§‹éƒ¨ç½²..."

# æ‹‰å–æœ€æ–°ä»£ç 
echo "ğŸ“¥ æ‹‰å–æœ€æ–°ä»£ç ..."
git pull origin main

# æ„å»ºé•œåƒ
echo "ğŸ—ï¸ æ„å»º Docker é•œåƒ..."
docker-compose build

# åœæ­¢æ—§å®¹å™¨
echo "ğŸ›‘ åœæ­¢æ—§å®¹å™¨..."
docker-compose down

# å¯åŠ¨æ–°å®¹å™¨
echo "â–¶ï¸ å¯åŠ¨æ–°å®¹å™¨..."
docker-compose up -d

# æ¸…ç†æ‚¬ç©ºé•œåƒ
echo "ğŸ§¹ æ¸…ç†æ‚¬ç©ºé•œåƒ..."
docker image prune -f

echo "âœ… éƒ¨ç½²å®Œæˆï¼"
echo ""
echo "æœåŠ¡çŠ¶æ€:"
docker-compose ps

